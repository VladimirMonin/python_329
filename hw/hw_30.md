# –ß—Ç–æ –º—ã –ø—Ä–æ—à–ª–∏? ü§î

–î–∞–≤–∞–π –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –≤ Pytest, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ —Ç–µ—Å—Ç—ã.

### –§–∏–∫—Å—Ç—É—Ä—ã

–§–∏–∫—Å—Ç—É—Ä—ã –≤ Pytest ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π —Ç–µ—Å—Ç–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π. –û–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤.

`@pytest.fixture`: –≠—Ç–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ñ—É–Ω–∫—Ü–∏–∏, —Å–æ–∑–¥–∞—é—â–µ–π —Ñ–∏–∫—Å—Ç—É—Ä—É. –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ç–µ—Å—Ç–∞—Ö.

- `**scope='module'`=: –≠—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä scope –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ñ–∏–∫—Å—Ç—É—Ä–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è —Ç–µ—Å—Ç–æ–≤, –∞ –Ω–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω–æ. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∏–∫—Å—Ç—É—Ä—ã –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –µ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏ –≤ –º–æ–¥—É–ª–µ.

- **–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç**: –§—É–Ω–∫—Ü–∏—è —Ñ–∏–∫—Å—Ç—É—Ä—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —Ç–µ—Å—Ç–∞—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ `WeatherRequest` —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è

–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –æ–¥–∏–Ω —Ç–µ—Å—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏.

`@pytest.mark.parametrize`: –≠—Ç–æ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É —Å –∏–º–µ–Ω–∞–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —ç—Ç–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–¥–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞.

- **'city_name, expected_coords', cities**: –ó–¥–µ—Å—å `city_name` –∏ `expected_coords` ‚Äî —ç—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ —Ç–µ—Å—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é. `cities` ‚Äî —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –∫–æ—Ä—Ç–µ–∂–µ–π, –≥–¥–µ –∫–∞–∂–¥—ã–π –∫–æ—Ä—Ç–µ–∂ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è –≥–æ—Ä–æ–¥–∞ –∏ –µ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã. Pytest –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Ç–µ—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ `cities`, –ø–µ—Ä–µ–¥–∞–≤–∞—è `city_name` –∏ `expected_coords` –≤ —Ç–µ—Å—Ç.

### –ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

–ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏. –ö–æ–≥–¥–∞ —Ç–µ—Å—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, Pytest –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

- **–§–∏–∫—Å—Ç—É—Ä—ã –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ö–æ–≥–¥–∞ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Ç–µ—Å—Ç–∞ —É–∫–∞–∑–∞–Ω–∞ —Ñ–∏–∫—Å—Ç—É—Ä–∞, Pytest –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –æ–±—ä–µ–∫—Ç–∞, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —ç—Ç–æ–π —Ñ–∏–∫—Å—Ç—É—Ä–æ–π, –≤ —Ç–µ—Å—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `weather_request`, Pytest –ø–µ—Ä–µ–¥–∞—Å—Ç –≤ –Ω–µ–≥–æ –æ–±—ä–µ–∫—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Ñ–∏–∫—Å—Ç—É—Ä–æ–π.

- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏**: –ö–æ–≥–¥–∞ —Ç–µ—Å—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω, Pytest –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏ –∑–Ω–∞—á–µ–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç–µ—Å—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, Pytest –ø–µ—Ä–µ–¥–∞–µ—Ç –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –Ω–∞–±–æ—Ä –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ —Å–ø–∏—Å–∫–∞, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤ `@pytest.mark.parametrize`.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ

1. **–§–∏–∫—Å—Ç—É—Ä–∞ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**: –ù–∞–ø—Ä–∏–º–µ—Ä, `weather_request` —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç `WeatherRequest` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –µ–≥–æ —Å –∑–∞–¥–∞–Ω–Ω—ã–º –≥–æ—Ä–æ–¥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, '–ú–æ—Å–∫–≤–∞'). –í—Å–µ —Ç–µ—Å—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ —ç—Ç—É —Ñ–∏–∫—Å—Ç—É—Ä—É, –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –æ–±—ä–µ–∫—Ç–æ–º `WeatherRequest`, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º –¥–ª—è '–ú–æ—Å–∫–≤—ã'.

2. **–§–∏–∫—Å—Ç—É—Ä–∞ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏**: –§–∏–∫—Å—Ç—É—Ä–∞ `weather_request_parametrize` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `WeatherRequest` –±–µ–∑ –≤—ã–∑–æ–≤–∞. –û–Ω–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö, –≥–¥–µ –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –≤—ã–∑–æ–≤–µ—Ç `WeatherRequest` —Å —Ä–∞–∑–Ω—ã–º –≥–æ—Ä–æ–¥–æ–º.

3. **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç**: `test_weather_request_city_coodrd_name_parametrize_slow` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—É—é —Ñ–∏–∫—Å—Ç—É—Ä—É –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. Pytest –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –≤ —Ç–µ—Å—Ç —Ç–µ–∫—É—â–∏–π –≥–æ—Ä–æ–¥ –∏ –µ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞ `cities`, –∞ —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç `WeatherRequest` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º.


### –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ: –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

–í –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º —Ç–µ—Å—Ç–µ, –∫–∞–∫ `test_weather_request_city_coodrd_name_parametrize_slow`, Pytest –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ñ–∏–∫—Å—Ç—É—Ä –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–µ, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≥–∏–±–∫–æ–µ –∏ –º–æ—â–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

- **–ò—Ç–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∞**: –î–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π (`city_name`, `expected_coords`) –∏–∑ —Å–ø–∏—Å–∫–∞ `cities`, Pytest —Å–æ–∑–¥–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç–∞–Ω—Å —Ç–µ—Å—Ç–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ –≤ —Å–ø–∏—Å–∫–µ `cities` –ø—è—Ç—å –ø–∞—Ä –∑–Ω–∞—á–µ–Ω–∏–π, —Ç–µ—Å—Ç –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –ø—è—Ç—å —Ä–∞–∑, –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Å –Ω–æ–≤—ã–º –≥–æ—Ä–æ–¥–æ–º –∏ –æ–∂–∏–¥–∞–µ–º—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏.

- **–ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ç–µ—Å—Ç**: –í–æ –≤—Ä–µ–º—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞ Pytest –ø–µ—Ä–µ–¥–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `city_name` –∏ `expected_coords` –≤ —Ç–µ—Å—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é. –û–Ω —Ç–∞–∫–∂–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –æ–±—ä–µ–∫—Ç–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ñ–∏–∫—Å—Ç—É—Ä–æ–π `weather_request_parametrize`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ —Ç–µ–ª–µ —Ç–µ—Å—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ –æ–±—ä–µ–∫—Ç `WeatherRequest`, —Ç–∞–∫ –∏ —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≥–æ—Ä–æ–¥–∞ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

- **–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞**: –í–Ω—É—Ç—Ä–∏ —Ç–µ—Å—Ç–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ, `__call__`) –æ–±—ä–µ–∫—Ç–∞ `WeatherRequest` —Å —Ç–µ–∫—É—â–∏–º `city_name`. –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–≥–æ–¥—ã –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞. –ó–∞—Ç–µ–º —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–º. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∏–º—è –≥–æ—Ä–æ–¥–∞ –∏ –µ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–º, —Ç–µ—Å—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

- **–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**: –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π –≤ `cities`. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–µ –∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ `WeatherRequest` –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

### @pytest.mark.slow

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä `@pytest.mark.slow` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª—å—à–µ –æ–±—ã—á–Ω–æ–≥–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑-–∑–∞ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤ –≤—ã–±–æ—Ä–æ—á–Ω–æ –∏—Å–∫–ª—é—á–∞—Ç—å –∏–ª–∏ –≤–∫–ª—é—á–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∫–æ–≥–¥–∞ –µ—Å—Ç—å –≤—Ä–µ–º—è –Ω–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã, –∫—Ä–æ–º–µ —Ç–µ—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –º–µ–¥–ª–µ–Ω–Ω—ã–µ (–∏—Å–ø–æ–ª—å–∑—É—è `@pytest.mark.slow`), –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π –∏ –æ–ø—Ü–∏–µ–π `-m` (–∫–æ—Ç–æ—Ä–∞—è –æ–∑–Ω–∞—á–∞–µ—Ç "marker" –∏–ª–∏ "–º–∞—Ä–∫–µ—Ä") –≤ pytest. –≠—Ç–∞ –æ–ø—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é, –∫–æ—Ç–æ—Ä–æ–µ —Å–≤—è–∑–∞–Ω–æ —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏.

–í —Ç–≤–æ—ë–º —Å–ª—É—á–∞–µ, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

```bash
pytest -m "not slow"
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≥–æ–≤–æ—Ä–∏—Ç pytest –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ—Ç–º–µ—á–µ–Ω—ã –º–∞—Ä–∫–µ—Ä–æ–º `slow`. –ó–¥–µ—Å—å `"not slow"` —è–≤–ª—è–µ—Ç—Å—è –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã, –∫—Ä–æ–º–µ —Ç–µ—Ö, —á—Ç–æ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –º–µ–¥–ª–µ–Ω–Ω—ã–µ.

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–º–µ—á–µ–Ω—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º `@pytest.mark.slow`. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, pytest –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É.

–¢–∞–∫–∂–µ, –µ—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –±–æ–ª—å—à–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –º–∞—Ä–∫–µ—Ä–æ–≤, –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ pytest (–Ω–∞–ø—Ä–∏–º–µ—Ä, `pytest.ini`), –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–∞—Ä–∫–µ—Ä—ã –∏ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –ª—É—á—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.
### –í—ã–≤–æ–¥—ã

–§–∏–∫—Å—Ç—É—Ä—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –≤ Pytest –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–±–∫–∏—Ö –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö —Ç–µ—Å—Ç–æ–≤. –§–∏–∫—Å—Ç—É—Ä—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –¥–∞–Ω–Ω—ã—Ö, –∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö —É—Å–ª–æ–≤–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö. –í–º–µ—Å—Ç–µ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç —Ç–µ—Å—Ç—ã –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º–∏, —É–¥–æ–±–Ω—ã–º–∏ –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º–∏ –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ —à–∏—Ä–æ–∫–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Å–ª—É—á–∞–µ–≤.

# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ üìÉ

### –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è

–í —ç—Ç–æ–º –¥–æ–º–∞—à–Ω–µ–º –∑–∞–¥–∞–Ω–∏–∏ –≤—ã –±—É–¥–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–æ–¥—É–ª—å–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏ –≤ Pytest, —Ñ–æ–∫—É—Å–∏—Ä—É—è—Å—å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ–∏–∫—Å—Ç—É—Ä –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ `WeatherRequest`. –ù–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –≤ –æ–¥–Ω–æ–º –∏–∑ –ø—Ä–æ—à–ª—ã—Ö –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π.

>[!warning] —Ñ–∏–∫—Å—Ç—É—Ä–∞ `weather_request_parametrize` –∏ —Ç–µ—Å—Ç ‚Ññ5 - `test_weather_request_city_coodrd_name_parametrize_slow` –¥–µ–ª–∞–µ–º –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ. –°—á–∏—Ç–∞–π—Ç–µ —ç—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –∑–∞–¥–∞–Ω–∏–µ–º "–Ω–∞ –≤–∞—à–µ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ". –£ –º–µ–Ω—è —É–∂–µ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–π, —Ä–∞–±–æ—á–∏–π –∫–æ–¥ üôÇ

### –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–æ–≤

1. **–§–∏–∫—Å—Ç—É—Ä—ã `weather_request` –∏ `weather_request_parametrize`**: –≠—Ç–∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `WeatherRequest`. –ü–µ—Ä–≤–∞—è —Ñ–∏–∫—Å—Ç—É—Ä–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä —Å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –≥–æ—Ä–æ–¥–æ–º (–ú–æ—Å–∫–≤–∞), –≤—Ç–æ—Ä–∞—è ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç "—á–∏—Å—Ç—ã–π" —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏. –û–±–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏–º–µ—é—Ç –æ–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è `module`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –≤–µ—Å—å –º–æ–¥—É–ª—å —Ç–µ—Å—Ç–æ–≤.

2. **–°–ø–∏—Å–æ–∫ `cities`**: –≠—Ç–æ —Å–ø–∏—Å–æ–∫ –∫–æ—Ä—Ç–µ–∂–µ–π, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏ –µ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤, –ø–æ–∑–≤–æ–ª—è—è –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

3. **–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ `@pytest.mark.slow`**: –≠—Ç–∞ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ç–µ—Å—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª—å—à–µ –æ–±—ã—á–Ω–æ–≥–æ. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ –∏—Å–∫–ª—é—á–∞—Ç—å —ç—Ç–∏ —Ç–µ—Å—Ç—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

4. **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è —Å `@pytest.mark.parametrize`**: –≠—Ç–æ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ç–µ—Å—Ç—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (`city_name`, `expected_coords`) –∏ —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π (`cities`). Pytest –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –∏–Ω—Å—Ç–∞–Ω—Å —Ç–µ—Å—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏–π, –ø–µ—Ä–µ–¥–∞–≤–∞—è –∏—Ö –≤ —Ç–µ—Å—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é.

5. **–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**: –ö–∞–∂–¥–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∞—Å–ø–µ–∫—Ç–∞ —Ä–∞–±–æ—Ç—ã `WeatherRequest`. –û–Ω–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ñ–∏–∫—Å—Ç—É—Ä—ã –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫–∂–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—é.


–í—Å—Ç–∞–≤–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ–∏–∫—Å—Ç—É—Ä –∏ —Ç–µ—Å—Ç–æ–≤:

### –§–∏–∫—Å—Ç—É—Ä—ã:

1. **–§–∏–∫—Å—Ç—É—Ä–∞ `weather_request`**:
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞—ë—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `WeatherRequest`, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –≥–æ—Ä–æ–¥–∞ –ú–æ—Å–∫–≤–∞.
   - –û–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è: Module (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –≤–µ—Å—å –º–æ–¥—É–ª—å —Ç–µ—Å—Ç–æ–≤).
   - –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –≠–∫–∑–µ–º–ø–ª—è—Ä `WeatherRequest` —Å –æ—Ç–≤–µ—Ç–æ–º –¥–ª—è –ú–æ—Å–∫–≤—ã.

2. **–§–∏–∫—Å—Ç—É—Ä–∞ `weather_request_parametrize`**:
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –°–æ–∑–¥–∞—ë—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "—á–∏—Å—Ç—ã–π" —ç–∫–∑–µ–º–ø–ª—è—Ä `WeatherRequest` –±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–æ—Ä–æ–¥–∞.
   - –û–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è: Module.
   - –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –≠–∫–∑–µ–º–ø–ª—è—Ä `WeatherRequest`, –≥–æ—Ç–æ–≤—ã–π –∫ –≤—ã–∑–æ–≤—É —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

–î–∞—Ç–∞—Å–µ—Ç –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã ‚Ññ2

```python
cities = [  
    ('–ú–æ—Å–∫–≤–∞', {"lon": 37.6156, "lat": 55.7522}),  
    ('–í–æ—Ä–æ–Ω–µ–∂', {"lon": 39.17, "lat": 51.6664}),  
    ('–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', {"lon": 30.2642, "lat": 59.8944}),  
    ('–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä', {"lon": 38.9769, "lat": 45.0328}),  
    ('–°–æ—á–∏', {"lon": 39.7303, "lat": 43.6}),  
]
```
### –¢–µ—Å—Ç—ã:

1. **–¢–µ—Å—Ç 1 - `test_weather_request_city_name`**:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤ –æ—Ç–≤–µ—Ç–µ API –¥–ª—è –ú–æ—Å–∫–≤—ã –ø–æ–ª–µ `name` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–º—É (–ú–æ—Å–∫–≤–∞).
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ñ–∏–∫—Å—Ç—É—Ä—É `weather_request`.
   - –ù–æ–º–µ—Ä —Ç–µ—Å—Ç–∞: 1.

2. **–¢–µ—Å—Ç 2 - `test_weather_request_coord`**:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (longitude –∏ latitude) –≤ –æ—Ç–≤–µ—Ç–µ API –¥–ª—è –ú–æ—Å–∫–≤—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–º.
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ñ–∏–∫—Å—Ç—É—Ä—É `weather_request`.
   - –ù–æ–º–µ—Ä —Ç–µ—Å—Ç–∞: 2.

3. **–¢–µ—Å—Ç 3 - `test_weather_request_weather_key`**:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤ —Å–µ–∫—Ü–∏–∏ `weather` –æ—Ç–≤–µ—Ç–∞ API –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–∏ id, main, description, icon.
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ñ–∏–∫—Å—Ç—É—Ä—É `weather_request`.
   - –ù–æ–º–µ—Ä —Ç–µ—Å—Ç–∞: 3.

4. **–¢–µ—Å—Ç 4 - `test_weather_request_main_key`**:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤ —Å–µ–∫—Ü–∏–∏ `main` –æ—Ç–≤–µ—Ç–∞ API –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–∏ –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –æ—â—É—â–∞–µ–º–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –¥–∞–≤–ª–µ–Ω–∏—è –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏.
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ñ–∏–∫—Å—Ç—É—Ä—É `weather_request`.
   - –ù–æ–º–µ—Ä —Ç–µ—Å—Ç–∞: 4.

5. **–¢–µ—Å—Ç 5 - `test_weather_request_city_coodrd_name_parametrize_slow`** (–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏ –º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–∫ –º–µ–¥–ª–µ–Ω–Ω—ã–π):
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–æ —Å–ø–∏—Å–∫–æ–º `cities`) –∏–º—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –æ—Ç–≤–µ—Ç–µ API —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–º.
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ñ–∏–∫—Å—Ç—É—Ä—É `weather_request_parametrize`, –∞ —Ç–∞–∫–∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `city_name` –∏ `expected_coords`, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—é.
   - –ù–æ–º–µ—Ä —Ç–µ—Å—Ç–∞: 5.
   - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –∏ –∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –ú–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ `@pytest.mark.slow` –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –±—ã—Å—Ç—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø—Ä–æ–≥–æ–Ω–æ–≤.


# –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ üëå

1. –§–∏–∫—Å—Ç—É—Ä–∞ `weather_request_parametrize` –∏ —Ç–µ—Å—Ç ‚Ññ5 - `test_weather_request_city_coodrd_name_parametrize_slow` –¥–µ–ª–∞–µ–º **==–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ==**.
2. –¢–µ—Å—Ç—ã —Å 1 –ø–æ 4 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
3. –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è
4. –ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞
5. –°–¥–∞–µ–º –≤ –≤–∏–¥–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (–≥–¥–µ –≤–∏–¥–Ω–æ —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∏ –æ–Ω–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å)